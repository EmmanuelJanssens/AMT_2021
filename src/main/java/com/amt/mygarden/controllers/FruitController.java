package com.amt.mygarden.controllers;

import com.amt.mygarden.models.Fruit;
import com.amt.mygarden.repository.FruitRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping(path="/fruits") // This means URL's start with /fruits (after Application path)
public class FruitController {
    @Autowired // This means to get the bean called userRepository
    // Which is auto-generated by Spring, we will use it to handle the data
    private FruitRepository fruitRepository;

    // show the view to create a new fruit
    @GetMapping(path = "/create")
    public String create() {
        return "create fruit view";
    }

    // create a new fruit
    @PostMapping
    @ResponseStatus(HttpStatus.CREATED)
    public String store(@RequestBody Fruit fruit) {
        return "created fruit";
    }

    // show view with all fruits
    @GetMapping
    public String index() {
        return "all fruits";
    }

    // show the view of a fruit
    @GetMapping(path = "/{id}")
    public String show(@PathVariable int id) {
        return "fruit";
    }

    // show the view to edit a fruit
    @GetMapping(path = "/{id}/edit")
    public String edit(@PathVariable int id) {
        return "edit fruit view";
    }

    // update the values of a fruit
    @PutMapping(path = "/{id}")
    public String update(@PathVariable Long id, @RequestBody Fruit fruit) {
        return "updated fruit";
    }

    // delete a fruit
    @DeleteMapping(path = "/{id}")
    public void destroy(@PathVariable int id) {
        //todo
    }
}