@startuml
skinparam handwritten true
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor User as Actor
participant "/all" as UI <<presentation>>
control AddFruitGeneralController as Controller <<application>>
participant "UserSession" as UserSession <<value object>>
participant "kart:Kart" as Domain <<domain>>
database FruitRepository as FS <<repository>>
database KartRepository as KS <<repository>>


Actor --> UI: Add fruit to kart
activate UI
         UI -> Controller: getAllFruits()
      activate Controller

       Controller ->FS : getAllFruits()
       activate FS
       deactivate FS
       deactivate Controller
       UI -> UI : show()
    UI --> Actor: Shows all fruit in tab
    Actor --> UI: Choses Fruit to add

   UI -> Controller: addFruitToKart(Fruit fruit)
 activate Controller
        Controller -> KS : kart=getKartById(String token)
        activate KS
        deactivate KS
       Controller -> Domain :  addFruit(Fruit fruit)
       activate Domain
       deactivate Domain
       deactivate Controller

UI -> KS : save(kart)
activate KS
deactivate KS


UI -> UI : show()
 UI --> Actor: Fruit is added and kart is updated
deactivate UI
@enduml